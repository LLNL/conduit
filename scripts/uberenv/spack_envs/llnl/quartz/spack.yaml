spack:
    specs:
      - python
      - conduit+python
    concretization: together
    compilers:
      - compiler:
          environment: {}
          extra_rpaths: []
          flags: {}
          modules: []
          operating_system: rhel7
          paths:
            cc:  /usr/tce/bin/gcc
            cxx: /usr/tce/bin/g++
            f77: /usr/tce/bin/gfortran
            fc:  /usr/tce/bin/gfortran
          spec: gcc@4.9.3
          target: x86_64
    packages:
      all:
        compiler: [gcc]
        providers:
          blas: [netlib-lapack]
          lapack: [netlib-lapack]
          mpi: [mvapich2]
        # Lock down which MPI we are using
      mvapich2:
        buildable: false
        externals:
          - spec: mvapich2@2.3%gcc@4.9.3
            prefix: /usr/tce/packages/mvapich2/mvapich2-2.3-gcc-4.9.3/
      # Spack may grab one of this for mpi & we don't want to use them
      openmpi:
        buildable: false
      mpich:
          buildable: false
      spectrum-mpi:
        buildable: false
      charmpp:
        buildable: false
      charm:
        buildable: false
      intel-mpi:
        buildable: false
      intel-parallel-studio:
        buildable: false
      fujitsu-mpi:
        buildable: false
      mpilander:
        buildable: false
      mpt:
        buildable: false
      # blas is a bit more complicated because its a virtual package so fake it with
      # the following per spack docs
      netlib-lapack:
        buildable: false
        externals:
          - spec: netlib-lapack@3.6.1
            prefix: /usr
      # System level packages to not build
      autoconf:
        buildable: false
        externals:
          - spec: autoconf
            prefix: /usr
      automake:
        buildable: false
        externals:
          - spec: automake
            prefix: /usr
      bzip2:
        buildable: false
        externals:
        - spec: bzip2
          prefix: /usr
      cmake:
        version: [3.14.5]
        buildable: false
        externals:
        - spec: cmake
          prefix: /usr/tce/packages/cmake/cmake-3.14.5
      gettext:
        buildable: false
        externals:
        - spec: gettext
          prefix: /usr
      libtool:
        buildable: false
        externals:
        - spec: libtool
          prefix: /usr
      m4:
        buildable: false
        externals:
        - spec: m4
          prefix: /usr
      perl:
        buildable: false
        externals:
        - spec: perl
          prefix: /usr
      pkg-config:
        buildable: false
        externals:
        - spec: pkg-config
          prefix: /usr
      tar:
        buildable: false
        externals:
        - spec: tar
          prefix: /usr
